{"pipeline": {
  "stages":   [
    {
      "name": "One",
      "branches": [      {
        "name": "default",
        "steps": [        {
          "name": "echo",
          "arguments": [          {
            "key": "message",
            "value":             {
              "isLiteral": true,
              "value": "Hello"
            }
          }]
        }]
      }]
    },
    {
      "name": "Two",
      "branches": [      {
        "name": "default",
        "steps": [        {
          "name": "script",
          "arguments": [          {
            "key": "scriptBlock",
            "value":             {
              "isLiteral": true,
              "value": "echo \"JS World\""
            }
          }]
        }]
      }],
      "when": {"conditions": [      {
        "name": "changeset",
        "arguments":         {
          "isLiteral": true,
          "value": "**/*.js"
        }
      }]}
    },
    {
      "name": "Three",
      "branches": [      {
        "name": "default",
        "steps": [        {
          "name": "echo",
          "arguments": [          {
            "key": "message",
            "value":             {
              "isLiteral": true,
              "value": "With regexp"
            }
          }]
        }]
      }],
      "when": {"conditions": [      {
        "name": "changeset",
        "arguments":         {
          "isLiteral": true,
          "value": ".*\\.js"
        }
      }]}
    },
    {
      "name": "Four",
      "branches": [      {
        "name": "default",
        "steps": [        {
          "name": "echo",
          "arguments": [          {
            "key": "message",
            "value":             {
              "isLiteral": true,
              "value": "With shouldMatchAll"
            }
          }]
        }]
      }],
      "when": {"conditions": [      {
        "name": "changeset",
        "arguments":         [
          {
            "key": "pattern",
            "value":             {
              "isLiteral": true,
              "value": "(.*\\.js|Jenkinsfile)"
            }
          },
          {
            "key": "comparator",
            "value":             {
              "isLiteral": true,
              "value": "regexp"
            }
          },
          {
            "key": "shouldMatchAll",
            "value":             {
              "isLiteral": true,
              "value": "true"
            }
          }
        ]
      }]}
    }
  ],
  "agent":   {
    "type": "label",
    "argument":     {
      "isLiteral": true,
      "value": "here"
    }
  }
}}
